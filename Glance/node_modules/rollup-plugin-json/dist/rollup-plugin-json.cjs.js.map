{"version":3,"file":"rollup-plugin-json.cjs.js","sources":["../src/index.js"],"sourcesContent":["import {createFilter, dataToEsm} from 'rollup-pluginutils';\n\nexport default function json (options = {}) {\n\tconst filter = createFilter(options.include, options.exclude);\n\tconst indent = 'indent' in options ? options.indent : '\\t';\n\n\treturn {\n\t\tname: 'json',\n\n\t\ttransform (json, id) {\n\t\t\tif (id.slice(-5) !== '.json') return null;\n\t\t\tif (!filter(id)) return null;\n\n\t\t\tconst data = JSON.parse(json);\n\t\t\tif (Object.prototype.toString.call(data) !== '[object Object]') {\n\t\t\t\treturn {code: `export default ${json};\\n`, map: {mappings: ''}};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tcode: dataToEsm(data, {\n\t\t\t\t\tpreferConst: options.preferConst,\n\t\t\t\t\tcompact: options.compact,\n\t\t\t\t\tnamedExports: options.namedExports,\n\t\t\t\t\tindent\n\t\t\t\t}),\n\t\t\t\tmap: {mappings: ''}\n\t\t\t};\n\t\t}\n\t};\n}\n"],"names":["const","createFilter","dataToEsm"],"mappings":";;;;AAEe,SAAS,IAAI,EAAE,OAAY,EAAE;kCAAP,GAAG;;CACvCA,IAAM,MAAM,GAAGC,8BAAY,CAAC,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;CAC9DD,IAAM,MAAM,GAAG,QAAQ,IAAI,OAAO,GAAG,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;;CAE3D,OAAO;EACN,IAAI,EAAE,MAAM;;EAEZ,6BAAS,EAAE,IAAI,EAAE,EAAE,EAAE;GACpB,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,OAAO,IAAE,OAAO,IAAI,GAAC;GAC1C,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAAE,OAAO,IAAI,GAAC;;GAE7BA,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;GAC9B,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,iBAAiB,EAAE;IAC/D,OAAO,CAAC,IAAI,uBAAoB,IAAI,SAAK,EAAE,GAAG,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC;IAChE;;GAED,OAAO;IACN,IAAI,EAAEE,2BAAS,CAAC,IAAI,EAAE;KACrB,WAAW,EAAE,OAAO,CAAC,WAAW;KAChC,OAAO,EAAE,OAAO,CAAC,OAAO;KACxB,YAAY,EAAE,OAAO,CAAC,YAAY;aAClC,MAAM;KACN,CAAC;IACF,GAAG,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC;IACnB,CAAC;GACF;EACD,CAAC;CACF;;;;"}